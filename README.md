# TestRestApi

## Входные параметры
Компонент принимает следующий массив параметров:
```php
Array(
	"BLOCK_ID" => "1",
	"SEF_FOLDER_URL" => "/restapi/"
)
```
**BLOCK_ID** - ID highload-блока, с которым будет работать компонент
**SEF_FOLDER_URL** - URL страницы относительно корня сайта, на которой размещён компонент

## Методы
### list
По GET-запросу выдает список всех сущностей их таблицы
```json
[{
	"name": "Точка 1",
	"address": "Адрес точка 1"
	"updated_at": "23.07.2019 00:00:00",
	"created_at": "23.07.2019 00:00:00"
},{
	"name": "Точка 2",
	"address": "Адрес точка 2"
	"updated_at": "23.07.2019 00:00:00",
	"created_at": "23.07.2019 00:00:00"
}]
```

### add
POST-запрос, принимает на вход JSON, содержащий данные добавляемых сущностей. Например:
```json
[{
	"name": "Точка 1",
	"address": "Адрес точка 1"
}]
```
В качестве ответа возвращает JSON с массивом ID добавленных сущностей.
```json
[ 1, 2, 3 ]
```

### update
POST-запрос, принимает на вход JSON, содержащий данные обновляемых сущностей. Например:
```json
[{
	"id": 1,
	"name": "Точка 11",
	"address": "Адрес точка 11"
}]
```
В качестве ответа вернёт JSON со списком обновлённых сущностей.

### delete
POST-запрос, принимает на вход JSON, содержащий массив ID удаляемых сущностей. Например:
```json
[ 1, 2 ]
```
В качестве ответа вернёт количество реально удалённых сущностей.
```json
{
	"deleted": 2
}
```